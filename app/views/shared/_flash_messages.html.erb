<%
  # フラッシュメッセージ設定の定義
  flash_config = {
    notice: { timeout: 3000, border: 'border-orange-200', text: 'text-orange-800' },
    alert:  { timeout: 4000, border: 'border-orange-300', text: 'text-orange-900' },
    default: { timeout: 3500, border: 'border-orange-200', text: 'text-orange-800' }
  }
%>

<!-- フロート型フラッシュメッセージコンテナ -->
<div id="flash-container" class="fixed top-20 left-1/2 transform -translate-x-1/2 z-50 space-y-2">
  <% flash.each_with_index do |(type, message), index| %>
    <% config = flash_config[type.to_sym] || flash_config[:default] %>
    <div data-controller="flash"
         data-flash-timeout-value="<%= config[:timeout] %>"
         style="animation-delay: <%= index * 200 %>ms"
         class="flash-message bg-amber-50 border <%= config[:border] %> rounded-lg shadow-md p-4 min-w-80 max-w-96 cursor-pointer transform -translate-y-full opacity-0 animate-slide-down">
      <div class="flex items-start">
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium <%= config[:text] %>"><%= message %></p>
        </div>
        <%= render 'shared/flash_close_button' %>
      </div>
    </div>
  <% end %>
</div>
